### 字节跳动 面试记录

薛-后端开发工程师-面试1

- 自我介绍

- 聊一下专业方面自己的学习和积累

- 操作系统了解多少，进程间通信的方式有哪些，cup进程调度的方式
  
  FIFO队列：新增一个进程时，插入队列尾部，CPU每次从就绪队列头部获取进程，要么执行完切换到下一个进程，要么遇到IO交互，切换到下一个进程，将当前进程加入等待队列，直到IO返回再加入到就绪队列尾部，等待执行
  
  SJF短作业优先：每次CPU切换时，在就绪队列查找任务最短的job并派遣执行，判断任务的长短是根据执行任务的历史记录推测得到的
  
  优先级队列：给每个进程赋予一个优先级序号，CPU切换时，在就绪队列查找优先级最高的进程并且派遣执行。优化优先级队列算法某些优先级低的进程一直无法获取到CPU执行权的不足之处是每次上下文切换会进行尾部进程优先级递增，优先级每次增加priority/2，这样，这些得不到CPU使用权的进程也会获取到CPU使用权
  
  轮转调度算法：在FIFO基础上增加了一个时间片，CPU获取就绪队列头部的进程，在时间片范围内如果执行完任务切换到下一个进程，如果没有执行完，将当前进程加入FIFO队列尾部，切换到下一个进程。
  
  [进程通信与线程同步方式](https://www.cnblogs.com/xdyixia/p/9257668.html)

- 写Sql，数据表archive,id bigint,employee_id bigint,effective_date date,value int;  找出每个employee_id最新的value
  
  ```
  select * from archive a,(select employee_id bigint,max(effective_date) from archive group by employee_id) b where a.employee_id = b.employee_id and a.effective_date = b.effective_date
  ```

- 解决hash冲突的方式有哪些
  
  开放地址法，再hash法，拉链法

- 手撕代码 
  
   给出一个长度为n的数组arr,和一个数k，找出数组中有多少组合不超过k的三个数，即满足arr[a] + arr[b] + arr[c] < k,且0<=a<b<c<n的三元组的个数

胡-后端开发工程师-面试1

- 如果部署多个redis，怎么保证生成的序列号唯一（加机器码）

- Hashmap和treemap的区别，treemap用在什么环境下
  
  无序，有序，都是线程不安全，treemap可以用在需要基于排序的统计功能

- tcp协议怎么保证是可靠的
  
  三次握手，四次挥手

- udp最大报文长度是多少
  
  网络层IP数据包最大为1500，IP协议首部大小为20字节，UDP首部大小为8字节，所以一个UDP数据包最大长度为1480，传输内容为1472字节

- 进程是什么的最小资源，操作系统给进程分配了哪些资源
  
  进程是操作系统资源分配的最小单位，分配了处理器，存储器，IO设备，数据。

- 线程共享地址空间么，线程有没有自己的独立资源
  
  线程共享所属进程的地址空间，但没有自己独立的地址空间
  
  线程有自己的独立资源包括，线程ID,寄存器组的值，线程的堆栈，错误返回码，信号屏蔽码，优先级。
  
  线程共享的环境包括：进程代码段、进程的公有数据(利用这些共享的数据，线程很容易的实现相互之间的通讯)、进程打开的文件描述符、信号的处理器、进程的当前目录和进程用户ID与进程组ID。

- 多线程访问共享资源，怎么做
  
  线程同步的问题？

- 如果共享资源是一个int类型的变量，怎么做
  
  ???  //TODO

- Ping命令，用的什么协议
  
  使用的是ICMP协议，是“Internet Control Message Protocol”（Internet控制消息协议）的缩写，是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制消息。

- Tcp/ip协议中，如果遇到了两个重复的报文，会怎么做
  
  在运输层是不给报文排序的，排序是由网络层处理的，根据ip头的标识和偏移进行重组。而tcp的弃重复是根据确认号的，如果[序列号](https://www.baidu.com/s?wd=%E5%BA%8F%E5%88%97%E5%8F%B7&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)比确认号小，就说明此tcp报文已处理就自动丢弃。

- 手撕：
  
  一个环上有10个点，编号为0-9，从0点出发，每步可以顺时针到下一个点，也可以逆时针到下一个点，求，经过n步又回到0点有多少种不同的走法？
